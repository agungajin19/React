{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta4/Desktop/React/Problem 4/React/blogs_listing/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Header from'../components/header';import ListArticle from'../components/news_list';import TopArticle from'../components/top_article';import Axios from'axios';//News API\nvar url='https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31';var url1='https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31';var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(){var _getPrototypeOf2;var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Home)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={listNews:[],listNewsEverything:[],isLoadingEverything:true,isLoading:true,category:'Indonesia'};_this.componentDidMount=function(){_this.getTopList();_this.getEveryThing();};_this.getTopList=function(){var self=_assertThisInitialized(_this);Axios.get(\"\".concat(url)).then(function(response){self.setState({listNews:response.data.articles,isLoading:false});}).catch(function(error){self.setState({isLoading:false});});};_this.getEveryThing=function(){var self=_assertThisInitialized(_this);Axios.get(\"\".concat(url1,\"&q=\").concat(_this.state.category)).then(function(response){self.setState({listNewsEverything:response.data.articles,isLoadingEverything:false});}).catch(function(error){self.setState({isLoadingEverything:false});});};_this.handleCategory=function _callee(e){var self,keyword;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:self=_assertThisInitialized(_this);console.warn('ini buat liat target',e);keyword=e;_context.next=5;return _regeneratorRuntime.awrap(self.setState({category:keyword,isLoadingEverything:true}));case 5:self.getEveryThing();case 6:case\"end\":return _context.stop();}}});};_this.handleSearch=function _callee2(e){var self,keyword;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:self=_assertThisInitialized(_this);console.warn('ini buat liat target',e.target.value);keyword=e.target.value;_context2.next=5;return _regeneratorRuntime.awrap(self.setState({category:keyword,isLoadingEverything:true}));case 5:self.getEveryThing();case 6:case\"end\":return _context2.stop();}}});};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,listNews=_this$state.listNews,isLoading=_this$state.isLoading,listNewsEverything=_this$state.listNewsEverything,isLoadingEverything=_this$state.isLoadingEverything;var topHeadLines=listNews.filter(function(item){if(item.content!=null&&item.urlToImage!=null){return item;}return false;});var newsEverything=listNewsEverything.filter(function(item){if(item.content!=null&&item.urlToImage!=null){return item;}return false;});var beritaAnyar=newsEverything.slice(0,5).map(function(item,key){return React.createElement(TopArticle,{title:item.title,image:item.urlToImage,description:item.description,url:item.url});});return React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(Header,Object.assign({prosesSearch:function prosesSearch(e){return _this2.handleSearch(e);},category:function category(e){return _this2.handleCategory(e);}},this.props)),React.createElement(\"div\",{className:\" container row pt-5\",style:{paddingLeft:'12%'}},React.createElement(\"div\",{className:\"col-5 pr-4\"},isLoading?React.createElement(\"div\",{style:{textAlign:'center'}},\"Loading ...\"):React.createElement(ListArticle,{dataListArticle:topHeadLines})),React.createElement(\"div\",{className:\"col-7 \"},isLoadingEverything?React.createElement(\"div\",{style:{textAlign:'center'}},\"Loading ...\"):beritaAnyar))));}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/home/alta4/Desktop/React/Problem 4/React/blogs_listing/src/pages/Home_api.jsx"],"names":["React","Header","ListArticle","TopArticle","Axios","url","url1","Home","state","listNews","listNewsEverything","isLoadingEverything","isLoading","category","componentDidMount","getTopList","getEveryThing","self","get","then","response","setState","data","articles","catch","error","handleCategory","e","console","warn","keyword","handleSearch","target","value","topHeadLines","filter","item","content","urlToImage","newsEverything","beritaAnyar","slice","map","key","title","description","props","paddingLeft","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Header from '../components/header'\nimport ListArticle from '../components/news_list'\nimport TopArticle from '../components/top_article'\nimport Axios from 'axios'\n\n//News API\nconst url ='https://newsapi.org/v2/top-headlines?country=id&apiKey=ed7f829e2def4c558e0831a50968ac31'\nconst url1 = 'https://newsapi.org/v2/everything?apiKey=ed7f829e2def4c558e0831a50968ac31'\n\nclass Home extends React.Component{\n    state = {\n        listNews :[],\n        listNewsEverything : [],\n        isLoadingEverything : true,\n        isLoading : true,\n        category : 'Indonesia'\n    }\n    componentDidMount = ()=>{\n       this.getTopList()\n       this.getEveryThing()\n    }\n    getTopList = ()=>{\n        const self = this\n        Axios\n            .get(`${url}`)\n            .then(function(response){\n                self.setState({listNews: response.data.articles, isLoading: false})\n            })\n            .catch(function(error){\n                self.setState({isLoading: false})\n            })\n    }\n    getEveryThing = () =>{\n        const self = this\n        Axios\n            .get(`${url1}&q=${this.state.category}`)\n            .then(function(response){\n                self.setState({listNewsEverything: response.data.articles, isLoadingEverything: false})\n            })\n            .catch(function(error){\n                self.setState({isLoadingEverything: false})\n            })\n\n    }\n    handleCategory = async (e) => {\n        const self = this\n        console.warn('ini buat liat target',e)\n        let keyword = e\n        await self.setState({category : keyword, isLoadingEverything: true})\n        self.getEveryThing()\n    }\n\n    handleSearch = async (e) => {\n        const self = this\n        console.warn('ini buat liat target',e.target.value)\n        let keyword = e.target.value\n        await self.setState({category : keyword, isLoadingEverything: true })\n        self.getEveryThing()\n    }\n\n    render(){\n        const{listNews, isLoading, listNewsEverything, isLoadingEverything} = this.state\n        \n        const topHeadLines = listNews.filter(item => {\n            if (item.content != null && item.urlToImage != null){\n                return item\n            }\n            return false\n        })\n        const newsEverything = listNewsEverything.filter(item => {\n            if (item.content !=null && item.urlToImage != null){\n                return item\n            }\n            return false\n        })\n\n        const beritaAnyar = newsEverything.slice(0,5).map((item,key) => {\n            return <TopArticle\n                        title = {item.title}\n                        image = {item.urlToImage}\n                        description = {item.description}\n                        url = {item.url}\n                    />\n        })\n\n        \n        return(\n            <div>\n                <div>\n                <Header\n                    prosesSearch={e => this.handleSearch(e)}\n                    category = {e => this.handleCategory(e)}\n                    {...this.props}\n                    />\n                <div className=\" container row pt-5\" style={{paddingLeft:'12%'}}>\n                    <div className=\"col-5 pr-4\">\n                        {isLoading ? <div style={{textAlign : 'center'}}>Loading ...</div> : <ListArticle dataListArticle={topHeadLines}/>}\n                    </div>\n                    <div className=\"col-7 \">\n                        {isLoadingEverything ? <div style={{textAlign : 'center'}}>Loading ...</div> : beritaAnyar}\n                    </div>\n                </div>\n            </div>\n               \n            </div>\n\n        )\n    }\n}\nexport default Home"]},"metadata":{},"sourceType":"module"}